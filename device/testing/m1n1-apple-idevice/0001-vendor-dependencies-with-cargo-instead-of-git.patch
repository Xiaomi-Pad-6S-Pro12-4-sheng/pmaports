From 4fa0cb9d3ae9231e30862083d6e112b01fd3eb66 Mon Sep 17 00:00:00 2001
From: Aster Boese <asterboese@mailbox.org>
Date: Sun, 13 Jul 2025 21:38:27 -0400
Subject: [PATCH] vendor dependencies with cargo instead of git

---
 rust/Cargo.lock | 22 +++++++++++-----------
 rust/Cargo.toml |  8 +-------
 2 files changed, 12 insertions(+), 18 deletions(-)

diff --git a/rust/Cargo.lock b/rust/Cargo.lock
index ac41e15..0f70999 100644
--- a/rust/Cargo.lock
+++ b/rust/Cargo.lock
@@ -1,18 +1,17 @@
 # This file is automatically @generated by Cargo.
 # It is not intended for manual editing.
-version = 3
+version = 4
 
 [[package]]
 name = "bitflags"
-version = "1.3.2"
-
-[[package]]
-name = "cfg-if"
-version = "1.0.0"
+version = "2.9.1"
+source = "registry+https://github.com/rust-lang/crates.io-index"
+checksum = "1b8e56985ec62d17e9c1001dc89c88ecd7dc08e47eba5ec7c29c7b5eeecde967"
 
 [[package]]
 name = "fatfs"
 version = "0.4.0"
+source = "git+https://github.com/rafalh/rust-fatfs.git?rev=4eccb50d011146fbed20e133d33b22f3c27292e7#4eccb50d011146fbed20e133d33b22f3c27292e7"
 dependencies = [
  "bitflags",
  "log",
@@ -20,10 +19,9 @@ dependencies = [
 
 [[package]]
 name = "log"
-version = "0.4.17"
-dependencies = [
- "cfg-if",
-]
+version = "0.4.27"
+source = "registry+https://github.com/rust-lang/crates.io-index"
+checksum = "13dc2df351e3202783a1fe0d44375f7295ffb4049267b0f3018346dc122a1d94"
 
 [[package]]
 name = "rust"
@@ -35,4 +33,6 @@ dependencies = [
 
 [[package]]
 name = "uuid"
-version = "1.7.0"
+version = "1.17.0"
+source = "registry+https://github.com/rust-lang/crates.io-index"
+checksum = "3cf4199d1e5d15ddd86a694e4d0dffa9c323ce759fea589f00fef9d81cc1931d"
diff --git a/rust/Cargo.toml b/rust/Cargo.toml
index 39229e9..1f1126d 100644
--- a/rust/Cargo.toml
+++ b/rust/Cargo.toml
@@ -11,11 +11,5 @@ crate-type = [ "staticlib" ]
 
 # See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html
 [dependencies]
-fatfs = { path = "vendor/rust-fatfs", default-features = false, features = ["lfn", "alloc"] }
+fatfs = { git = "https://github.com/rafalh/rust-fatfs.git", rev = "4eccb50d011146fbed20e133d33b22f3c27292e7", default-features = false, features = ["lfn", "alloc"] }
 uuid = { version = "1.7.0", default-features = false }
-
-[patch.crates-io]
-uuid = { path = "vendor/uuid" }
-log = { path = "vendor/log" }
-bitflags = { path = "vendor/bitflags" }
-cfg-if = { path = "vendor/cfg-if" }
-- 
2.50.1


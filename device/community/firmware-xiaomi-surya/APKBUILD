# Maintainer: Jens Reidel <adrian@travitia.xyz>

pkgname=firmware-xiaomi-surya
pkgver=3
pkgrel=0
pkgdesc="Firmware for Xiaomi POCO X3 NFC"
url="https://github.com/sm7150-mainline/firmware-xiaomi-surya"
arch="aarch64"
license="proprietary"
options="!check !strip !archcheck !tracedeps pmb:cross-native"
_commit="26ecffbe095b05e396872c8e6bb9e0fff09e25aa"
source="
	$pkgname-$_commit.tar.gz::$url/archive/$_commit/$pkgname-$_commit.tar.gz
	30-initramfs-$pkgname.files
"
builddir="$srcdir/$pkgname-$_commit"

package() {
	find . -type f -exec install -Dm644 {} "$pkgdir"/{} \;

	install -Dm644 "$srcdir/30-initramfs-$pkgname.files" -t \
		"$pkgdir"/usr/share/mkinitfs/files
}

sha512sums="
af10c80e0e166732aacb4f9cc94aa7f8670fcf0d483f9a7526141fce7ff0094a82b95974d4e2ff90945dae65b787ab18a22ff601086faa5941da31cadf5a9d0d  firmware-xiaomi-surya-26ecffbe095b05e396872c8e6bb9e0fff09e25aa.tar.gz
1fae54f22acd7afb4669a9f2551cceb8f5e11640fb8cda9e4c75c1b488bdcbccccb67cbe430119bd3bcfe602957dd38db1c76529df0bdd3e314c9078f29365e1  30-initramfs-firmware-xiaomi-surya.files
"
